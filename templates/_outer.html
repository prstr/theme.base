<!doctype html>
<html ng-app="#{app || 'prostore:store'}">
  <head>
    <meta charset="utf-8"/>
    <block:meta>
      <meta name="viewport"
            content="width=device-width, initial-scale=1"/>
      <meta name="xsrfToken"
            content="#{xsrfToken}"/>
    </block:meta>

    <title><block:title>#{store.title}</block:title></title>

    <block:stylesheets>
      <link rel="stylesheet"
            href="#{store.themeCssUrl}"/>
    </block:stylesheets>

    <block:storeData>
      <script name="store"
              type="application/prostore-data">
        !{JSON.stringify(store.client)}
      </script>
    </block:storeData>

    <if expr="principal">
      <script name="principal"
              type="application/prostore-data">
        !{JSON.stringify(principal.client)}
      </script>
    </if>

  </head>
  <body>
    <div id="notices" ui-notices></div>
    <block:body/>
    <block:scripts>
      <script src="/app/store.js"></script>
    </block:scripts>
  </body>
</html>
