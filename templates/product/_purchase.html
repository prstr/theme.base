<table class="datatable band">
  <tr ng-repeat="prop in product.varyProps">
    <td>
      {{ prop.name}}
    </td>
    <td>
      <a href=""
         class="btn"
         ng-class="{
             'dimmed': p.isPropDisabled(prop, value),
             'info active': p.isPropSelected(prop, value)
           }"
         ng-repeat="value in prop.values"
         ng-click="p.toggleProp(prop, value)">
        {{ value }}
      </a>
    </td>
  </tr>
  <tr>
    <td>Цена</td>
    <td class="product-price">
      <div class="price"
           ng-show="p.variant">
        {{ p.variant.price | price }}
      </div>
      <div class="subtle"
           ng-hide="p.variant">
        пожалуйста, уточните параметры
      </div>
    </td>
  </tr>
</table>
<div ng-show="p.variant">
  <div ng-if="p.variant.stock != 0">
    <button type="button"
            class="btn primary"
            ng-if="p.getQuantityInCart() == 0"
            ng-click="p.addToCart()">
      <span>Добавить в корзину</span>
    </button>
    <div class="btn-group"
         ng-if="p.getQuantityInCart() > 0">
      <button type="button"
              class="btn info"
              ng-click="p.addToCart()">
        <span>В корзине {{ p.getQuantityInCart() }}</span>
      </button>
      <button type="button"
              class="btn primary"
              ng-click="p.addToCart()">
        <i class="fa-plus"></i>
      </button>
    </div>
    <span class="subtle"
          ng-if="p.variant.stock > 10 || p.variant.stock == null">
      В наличии более 10
    </span>
    <span class="subtle"
          ng-if="p.variant.stock > 0 && p.variant.stock <= 10">
      В наличии {{ p.variant.stock }}
    </span>
  </div>
  <div class="tag critical outline"
       ng-if="p.variant.stock == 0">
    Нет в наличии
  </div>
</div>
