btn(bg, color)
  background: bg
  color: color
  border: 1px solid darken(bg, 10%)
  border-bottom-color: darken(bg, 15%)
  if light(color)
    text-shadow: 0 1px 1px darken(bg, 15%)

  &:hover, &:active, &:focus, &.active
    background: darken(bg, 7%)
  &:focus
    border-color: darken(bg, 15%)

  &.active
    z-index: 2
    border-color: darken(bg, 15%)
    box-shadow: 0 3px 5px darken(bg, 15%) inset
  &[disabled]
    border-color: desaturate(darken(bg, 15%), 60%)
    background: desaturate(bg, 80%)
    box-shadow: none
    cursor: default
  &.hollow:not(:hover)
    background: transparent
    border-color: transparent

.btn
  ctl()
  margin: 0
  font: font-weight font-size font-main
  text-align: center
  touch-action: manipulation
  cursor: pointer
  background: transparent
  color: text-color

  & + .btn
    margin-left: spacing

  for b in brand-colors
    &.{b}
      btn(lookup('brand-' + b), lookup('brand-' + b + '-text'))

  i + span, span + i
    margin-left: 4px

.btn-group
  position: relative
  display: inline-block
  font-size: 0
  white-space: nowrap

  .btn
    border-radius: 0
    margin-left: -1px
    &:first-of-type
      border-top-left-radius: radius
      border-bottom-left-radius: radius
      margin-left: 0
    &:last-of-type
      border-top-right-radius: radius
      border-bottom-right-radius: radius

  & + .btn-group
    margin-left: spacing

btn-group-collapse()
  .btn
    display: block
    margin-left: 0
    margin-top: -1px
    border-radius: 0
    text-align: left
    i
      text-align: center
      width: 20px
      margin: 0 !important
    &:first-of-type
      border-top-left-radius: radius
      border-top-right-radius: radius
      margin-top: 0
    &:last-of-type
      border-bottom-left-radius: radius
      border-bottom-right-radius: radius


@media screen and (max-width: screen-small-max)
  .btn-group.collapse-small
    btn-group-collapse()

@media screen and (max-width: screen-medium-max)
  .btn-group.collapse-medium
    btn-group-collapse()
